## Context

**背景**：应用在聊天发送框中提供了一个"推理内容开关"按钮，用于控制是否在历史消息中传输模型的推理过程（`reasoningContent`）。该功能使用 Vercel AI SDK 的 `{ type: 'reasoning', text: '...' }` 消息格式。

**当前状态**：经过测试，当前集成的三个模型服务商（DeepSeek、Kimi、Zhipu）均不支持推理内容消息格式，导致该功能无效。开关 UI 仍然显示，但启用后不会产生任何效果，容易造成用户困惑。

**约束条件**：
- 这是临时措施，不删除任何代码或功能逻辑
- 需要保留底层实现，以便未来模型服务商支持后快速恢复
- 不能影响其他功能的正常运行

**相关干系人**：前端开发、用户体验

## Goals / Non-Goals

**Goals:**
- 隐藏推理内容开关 UI（第 163-181 行）
- 保持代码库可快速恢复（通过注释说明隐藏原因）
- 确保用户界面更简洁、直观

**Non-Goals:**
- 不删除 `includeReasoningContent` 状态管理逻辑
- 不修改 Redux store (`appConfigSlices`)
- 不移除聊天服务层的推理内容传输逻辑
- 不改变数据模型和类型定义

## Decisions

**决策 1：使用 CSS 隐藏而非条件渲染**

*选择*：在推理内容开关的 `<div>` 容器上添加 CSS 类，通过 `hidden` 属性隐藏该区域，而非使用 React 条件渲染 `{condition && <Component />}`。

*理由*：
- CSS 隐藏更容易恢复（只需移除 `hidden` 属性）
- 保留 DOM 结构便于调试和未来恢复
- 条件渲染需要删除相关 import 语句，恢复时更麻烦
- 代码可读性更好，通过注释明确说明隐藏原因

**决策 2：添加详细注释说明隐藏原因**

*选择*：在隐藏的代码块上方添加多行注释，说明隐藏原因、时间、以及恢复方式。

*理由*：
- 便于未来维护者理解为什么这段代码被隐藏
- 记录技术债务，便于后续跟踪
- 提供明确的恢复指引

**决策 3：保留所有相关依赖**

*选择*：不删除任何 import 语句、Redux 连接、或状态管理代码。

*理由*：
- 最小化变更范围，降低引入 bug 的风险
- 便于未来快速恢复功能
- 遵循 YAGNI 原则，不过度清理当前不需要但即将使用的代码

## Risks / Trade-offs

**风险 1：用户可能误以为功能已被移除**
*缓解措施*：这不是用户可见的功能，只是 UI 开关。用户不会知道功能曾经存在，因此不会造成困惑。

**风险 2：未来恢复时可能忘记恢复**
*缓解措施*：在代码中添加详细的注释和 TODO 标记，说明隐藏原因和恢复步骤。建议在项目 issues 中跟踪此技术债务。

**权衡：代码库中存在暂时不使用的代码**
*说明*：保留不使用的代码违反了"死代码消除"原则，但考虑到：
1. 这是临时措施（预计几个月内恢复）
2. 代码量很小（约 20 行）
3. 删除和恢复的成本高于保留的成本
因此选择保留而非删除。

## Migration Plan

**部署步骤**：
1. 在 `ChatPanelSender.tsx` 第 162 行添加注释说明隐藏原因
2. 在第 163 行的 `<div>` 容器添加 `className="hidden"` 属性
3. 在第 182 行（隐藏代码块后）添加注释说明隐藏结束
4. 运行 `pnpm lint` 和 `pnpm tsc` 确保无错误
5. 本地测试验证界面正常显示
6. 提交代码并部署

**回滚策略**：
- 如有问题，只需移除 `hidden` 类名即可快速恢复
- 无需回滚整个提交

## Open Questions

1. **是否需要在应用设置中保留"推理内容"配置项？**
   - *建议*：保留。虽然 UI 开关被隐藏，但设置页面可能仍在使用该配置，保持一致性。

2. **是否需要创建技术债务跟踪 issue？**
   - *建议*：是的。创建一个 issue 跟踪模型服务商对 `type: 'reasoning'` 的支持进度，并在此变更中引用该 issue。

3. **未来恢复时是否需要添加功能开关？**
   - *建议*：考虑添加环境变量或特性开关，以便针对特定模型启用/禁用推理内容传输，而非全局 UI 控制。
